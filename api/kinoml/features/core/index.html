
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../../../../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../../../../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../../../../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../../../../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../../../../_static/javascripts/modernizr.js"></script>
  
  
    <link rel="apple-touch-icon" href="../../../../_static/images/custom_favicon.png"/>
  
  
    <title>kinoml.features.core &#8212; KinoML 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/twemoji.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"></script>
    <script src="../../../../_static/twemoji.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../../../../_static/custom_favicon.png"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="kinoml.features.ligand" href="../ligand/index.html" />
    <link rel="prev" title="kinoml.features.complexes" href="../complexes/index.html" />
  
    <link rel="apple-touch-icon" href="../../../../_static/images/custom_favicon.png"/>
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=#3f51b5 data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#api/kinoml/features/core/index" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../../index.html" title="KinoML 0.1 documentation"
           class="md-header-nav__button md-logo">
          
            <i class="md-icon">&#xe6dd</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">KinoML</span>
          <span class="md-header-nav__topic"> kinoml.features.core </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../../../../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder=""Search""
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/openkinome/kinoml/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    KinoML
  </div>
</a>
          </div>
        </div>
      
      
    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../../../../index.html" class="md-tabs__link">User guide</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">API Reference</a></li>
            
            <li class="md-tabs__item"><a href="https://openkinome.org" class="md-tabs__link">OpenKinome</a></li>
          <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kinoml</span></code></a></li>
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kinoml.features</span></code></a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../../index.html" title="KinoML 0.1 documentation" class="md-nav__button md-logo">
      
        <i class="md-icon">&#xe6dd</i>
      
    </a>
    <a href="../../../../index.html"
       title="KinoML 0.1 documentation">KinoML</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/openkinome/kinoml/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    KinoML
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">User guide</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../../../notebooks/getting_started.html" class="md-nav__link">Getting Started</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../../../notebooks/kinoml_object_model.html" class="md-nav__link">KinoML object model</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Tutorials</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../../../notebooks/OpenEye_structural_featurizer.html" class="md-nav__link">OpenEye Structural Featurizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../../../notebooks/Schrodinger_structural_featurizer.html" class="md-nav__link">Schrodinger Structural Featurizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Developers</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../index.html" class="md-nav__link">API Reference</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../../index.html#subpackages" class="md-nav__link">Subpackages</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../index.html#submodules" class="md-nav__link">Submodules</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../index.html#package-contents" class="md-nav__link">Package Contents</a>
      
    
    </li></ul>
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#api-kinoml-features-core-index--page-root" class="md-nav__link"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kinoml.features.core</span></code></a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#module-contents" class="md-nav__link">Module Contents</a>
        </li></ul>
            </nav>
        </li>
    

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="module-kinoml.features.core">
<span id="kinoml-features-core"></span><h1 id="api-kinoml-features-core-index--page-root"><a class="reference internal" href="#api-kinoml-features-core-index--page-root" title="kinoml.features.core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kinoml.features.core</span></code></a><a class="headerlink" href="#api-kinoml-features-core-index--page-root" title="Permalink to this headline">¶</a></h1>
<p>Featurizers can transform a <code class="docutils literal notranslate"><span class="pre">kinoml.core.system.System</span></code> object and produce
new representations of the molecular entities and their associated measurements.</p>
<section id="module-contents">
<h2 id="module-contents">Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="kinoml.features.core.logger">
<span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#kinoml.features.core.logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">BaseFeaturizer</span></span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract Featurizer class.</p>
<dl class="py property">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer._SUPPORTED_TYPES">
<span class="sig-name descname"><span class="pre">_SUPPORTED_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer._SUPPORTED_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer.featurize">
<span class="sig-name descname"><span class="pre">featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer.featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Given some systems (compatible with <code class="docutils literal notranslate"><span class="pre">_SUPPORTED_TYPES</span></code>), apply
the featurization scheme implemented in this class.</p>
<p>First, <code class="docutils literal notranslate"><span class="pre">self.supports()</span></code> will check whether the systems are compatible
with the featurization scheme. We assume all of them are equal, so only
the first one will be checked. Then, the Systems are passed to
<code class="docutils literal notranslate"><span class="pre">self._featurize</span></code> to handle the actual leg-work.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>systems</strong> (<em>list of System</em>) – This is the collection of System objects that will be transformed.</p></li>
<li><p><strong>keep</strong> (<em>bool</em><em>, </em><em>optional=True</em>) – Whether to store the current featurizer in the <code class="docutils literal notranslate"><span class="pre">system.featurizations</span></code>
dictionary with its own key (<code class="docutils literal notranslate"><span class="pre">self.name</span></code>), in addition to <code class="docutils literal notranslate"><span class="pre">last</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>systems</strong> – The same systems that were passed in.
The returned Systems will have an extra entry in the <code class="docutils literal notranslate"><span class="pre">.featurizations</span></code>
dictionary, containing the featurized object (either a new System
or an array-like object) under a key named after <code class="docutils literal notranslate"><span class="pre">.name</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of System</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>You can also call the instance directly. This forwards to
<code class="docutils literal notranslate"><span class="pre">.featurize()</span></code>.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer._pre_featurize">
<span class="sig-name descname"><span class="pre">_pre_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer._pre_featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Run before featurizing all systems. Redefine this method if needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>systems</strong> (<em>list of System</em>) – This is the collection of System objects that will be transformed.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer._featurize">
<span class="sig-name descname"><span class="pre">_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer._featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Featurize all system objects in a serial fashion as defined in <code class="docutils literal notranslate"><span class="pre">._featurize_one()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>systems</strong> (<em>list of System</em>) – This is the collection of System objects that will be transformed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>features</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of System or array-like</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer._featurize_one">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_featurize_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">object</span></span></span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer._featurize_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method to do the actual leg-work for <cite>self.featurize()</cite>.
It takes a single System object and returns either a new System object
or an array-like object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system</strong> (<a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><em>System</em></a>) – The System to be featurized.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System">System</a> or array-like</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer._post_featurize">
<span class="sig-name descname"><span class="pre">_post_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer._post_featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Run after featurizing all systems. Systems with a feature of None will be removed and
listed in a log file in the current working directory. You shouldn’t need to redefine
this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>systems</strong> (<em>list of System</em>) – The systems being featurized</p></li>
<li><p><strong>features</strong> (<em>list</em>) – The features returned by <code class="docutils literal notranslate"><span class="pre">self._featurize</span></code></p></li>
<li><p><strong>keep</strong> (<em>bool</em><em>, </em><em>optional=True</em>) – Whether to store the current featurizer in the <code class="docutils literal notranslate"><span class="pre">system.featurizations</span></code>
dictionary with its own key (<code class="docutils literal notranslate"><span class="pre">self.name</span></code>), in addition to <code class="docutils literal notranslate"><span class="pre">last</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>filtered_systems</strong> – The same systems as passed, but with <code class="docutils literal notranslate"><span class="pre">.featurizations</span></code> extended with
the calculated features in two entries: the featurizer name and <code class="docutils literal notranslate"><span class="pre">last</span></code>.
Systems with a feature of None will be removed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>systems</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer.supports">
<span class="sig-name descname"><span class="pre">supports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer.supports" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if these systems are supported by this featurizer.</p>
<p>Do NOT reimplement in subclass. Check <code class="docutils literal notranslate"><span class="pre">._supports()</span></code> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>systems</strong> (<em>list of System</em>) – Systems to be checked (by type, contained attributes, etc)</p></li>
<li><p><strong>raise_errors</strong> (<em>bool</em><em>, </em><em>optional=True</em>) – if True, raise <cite>ValueError</cite> if errors were found</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all systems are compatible, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError` if ._supports</strong><strong>(</strong><strong>) </strong><strong>fails and raise_errors is True</strong> – </p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer._supports">
<span class="sig-name descname"><span class="pre">_supports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer._supports" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the private method that actually tests for compatibility between
a single system and the current featurizer.</p>
<p>This is the method you should reimplement in your subclass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system</strong> (<a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><em>System</em></a>) – The system that will be checked</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>True if compatible, False otherwise</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseFeaturizer.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.BaseFeaturizer.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.ParallelBaseFeaturizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">ParallelBaseFeaturizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_multiprocessing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_processes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dask_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.ParallelBaseFeaturizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.BaseFeaturizer" title="kinoml.features.core.BaseFeaturizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseFeaturizer</span></code></a></p>
<p>Abstract Featurizer class with support for multiprocessing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>use_multiprocessing</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If multiprocessing to use.</p></li>
<li><p><strong>n_processes</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – How many processes to use in case of multiprocessing.
Defaults to number of available CPUs.</p></li>
<li><p><strong>chunksize</strong> (<em>int</em><em>, </em><em>optional=None</em>) – See <a class="reference external" href="https://stackoverflow.com/a/54032744/3407590">https://stackoverflow.com/a/54032744/3407590</a>.</p></li>
<li><p><strong>dask_client</strong> (<em>dask.distributed.Client</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – A dask client to manage multiprocessing. Will ignore <cite>use_multiprocessing</cite>
<cite>chunksize</cite> and <cite>n_processes</cite> attributes.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="kinoml.features.core.ParallelBaseFeaturizer._SUPPORTED_TYPES">
<span class="sig-name descname"><span class="pre">_SUPPORTED_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#kinoml.features.core.ParallelBaseFeaturizer._SUPPORTED_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.ParallelBaseFeaturizer.__getstate__">
<span class="sig-name descname"><span class="pre">__getstate__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.ParallelBaseFeaturizer.__getstate__" title="Permalink to this definition">¶</a></dt>
<dd><p>Only preserve object fields that are serializable</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.ParallelBaseFeaturizer.__setstate__">
<span class="sig-name descname"><span class="pre">__setstate__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.ParallelBaseFeaturizer.__setstate__" title="Permalink to this definition">¶</a></dt>
<dd><p>Only preserve object fields that are serializable.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.ParallelBaseFeaturizer._featurize">
<span class="sig-name descname"><span class="pre">_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.ParallelBaseFeaturizer._featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Featurize all system objects in a parallel fashion as defined in <code class="docutils literal notranslate"><span class="pre">._featurize_one()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>systems</strong> (<em>list of System</em>) – This is the collection of System objects that will be transformed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>features</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of System or array-like</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.Pipeline">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">Pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">featurizers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#kinoml.features.core.BaseFeaturizer" title="kinoml.features.core.BaseFeaturizer"><span class="pre">BaseFeaturizer</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shortname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.Pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.BaseFeaturizer" title="kinoml.features.core.BaseFeaturizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseFeaturizer</span></code></a></p>
<p>Given a list of featurizers, apply them sequentially
on the systems (e.g. featurizer A returns X, and X is
taken by featurizer B, which returns Y).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>featurizers</strong> (<em>iterable of BaseFeaturizer</em>) – Featurizers to stack. They must be compatible with
each other!</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> is a subclass of <code class="docutils literal notranslate"><span class="pre">BaseFeaturizer</span></code>,
it should be considered a special case of such. It indeed
shares the same API but the implementation details of
<code class="docutils literal notranslate"><span class="pre">._featurize()</span></code> are slightly different. It acts as a
wrapper around individual <code class="docutils literal notranslate"><span class="pre">Featurizer</span></code> objects.</p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="kinoml.features.core.Pipeline.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#kinoml.features.core.Pipeline.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="kinoml.features.core.Pipeline.shortname">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shortname</span></span><a class="headerlink" href="#kinoml.features.core.Pipeline.shortname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.Pipeline._featurize">
<span class="sig-name descname"><span class="pre">_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.Pipeline._featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of featurizers, apply them sequentially
on the systems (e.g. featurizer A returns X, and X is
taken by featurizer B, which returns Y) and store the
features in the systems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>systems</strong> (<em>list of System</em>) – This is the collection of System objects that will be transformed</p></li>
<li><p><strong>keep</strong> (<em>bool</em><em>, </em><em>optional=True</em>) – Whether to store the current featurizer in the <code class="docutils literal notranslate"><span class="pre">system.featurizations</span></code>
dictionary with its own key (<code class="docutils literal notranslate"><span class="pre">self.name</span></code>), in addition to <code class="docutils literal notranslate"><span class="pre">last</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>features</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of System or array-like</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.Pipeline.supports">
<span class="sig-name descname"><span class="pre">supports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#kinoml.features.core.Pipeline.supports" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if these systems are supported by all featurizers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>systems</strong> (<em>list of System</em>) – systems to be checked (by type, contained attributes, etc)</p></li>
<li><p><strong>raise_errors</strong> (<em>bool</em><em>, </em><em>optional=False</em>) – If True, raise <code class="docutils literal notranslate"><span class="pre">ValueError</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all systems are compatible with all featurizers, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError` if f.supports</strong><strong>(</strong><strong>) </strong><strong>fails and raise_errors is True</strong> – </p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.Concatenated">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">Concatenated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">featurizers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#kinoml.features.core.BaseFeaturizer" title="kinoml.features.core.BaseFeaturizer"><span class="pre">BaseFeaturizer</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.Concatenated" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.Pipeline" title="kinoml.features.core.Pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Pipeline</span></code></a></p>
<p>Given a list of featurizers, apply them serially and concatenate
the result (e.g. featurizer A returns X, and featurizer B returns Y;
the output is XY).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>featurizers</strong> (<em>list of BaseFeaturizer</em>) – These should take a System or array, but return only arrays
so they can be concatenated. Note that the arrays must
have the same number of dimensions. If that is not the case,
you will need to reshape one of them using <code class="docutils literal notranslate"><span class="pre">CallableFeaturizer</span></code>
and a lambda function that relies on <code class="docutils literal notranslate"><span class="pre">np.reshape</span></code> or similar.</p></li>
<li><p><strong>axis</strong> (<em>int</em><em>, </em><em>optional=1</em>) – On which axis to concatenate. By default, it will concatenate
on axis <code class="docutils literal notranslate"><span class="pre">1</span></code>, which means that the features in each pipeline
will be concatenated.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This Featurizer maybe removed in the future, since it can be replaced
by <cite>TupleOfArrays</cite>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.Concatenated._featurize">
<span class="sig-name descname"><span class="pre">_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#kinoml.features.core.Concatenated._featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of featurizers, apply them serially and concatenate
the result (e.g. featurizer A returns X, and featurizer B returns Y;
the output is XY).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>systems</strong> (<em>list of System</em><em> or </em><em>array-like</em>) – The Systems (or arrays) to be featurized.</p></li>
<li><p><strong>keep</strong> (<em>bool</em><em>, </em><em>optional=True</em>) – Whether to store the current featurizer in the <code class="docutils literal notranslate"><span class="pre">system.featurizations</span></code>
dictionary with its own key (<code class="docutils literal notranslate"><span class="pre">self.name</span></code>), in addition to <code class="docutils literal notranslate"><span class="pre">last</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Concatenated arrays along specified <code class="docutils literal notranslate"><span class="pre">axis</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.TupleOfArrays">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">TupleOfArrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.TupleOfArrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.Pipeline" title="kinoml.features.core.Pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Pipeline</span></code></a></p>
<p>Given a list of featurizers, apply them serially and return
the result directly as a flattened tuple of the arrays, for
each system. E.g; given one system, featurizer A returns X,
and featurizer B returns Y, Z; the output is a tuple of X, Y, Z).</p>
<p>The final result will be tuple of tuples.</p>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.TupleOfArrays._featurize">
<span class="sig-name descname"><span class="pre">_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="headerlink" href="#kinoml.features.core.TupleOfArrays._featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of featurizers, apply them serially and build a
flat tuple out of the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>systems</strong> (<em>list of System</em><em> or </em><em>array-like</em>) – The Systems (or arrays) to be featurized.</p></li>
<li><p><strong>keep</strong> (<em>bool</em><em>, </em><em>optional=True</em>) – Whether to store the current featurizer in the <code class="docutils literal notranslate"><span class="pre">system.featurizations</span></code>
dictionary with its own key (<code class="docutils literal notranslate"><span class="pre">self.name</span></code>), in addition to <code class="docutils literal notranslate"><span class="pre">last</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If the last featurizer is returning a single array,
the shape of the object will be (N_systems,). If
the last featurizer returns more than one array,
it will be (N_systems, M_returned_objects).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of (of tuples) arraylike</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.BaseOneHotEncodingFeaturizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">BaseOneHotEncodingFeaturizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dictionary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.BaseOneHotEncodingFeaturizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.ParallelBaseFeaturizer" title="kinoml.features.core.ParallelBaseFeaturizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParallelBaseFeaturizer</span></code></a></p>
<p>Base class for Featurizers concerning one hot encoding.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="kinoml.features.core.BaseOneHotEncodingFeaturizer.ALPHABET">
<span class="sig-name descname"><span class="pre">ALPHABET</span></span><a class="headerlink" href="#kinoml.features.core.BaseOneHotEncodingFeaturizer.ALPHABET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseOneHotEncodingFeaturizer._featurize_one">
<span class="sig-name descname"><span class="pre">_featurize_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.LigandSystem" title="kinoml.core.systems.LigandSystem"><span class="pre">kinoml.core.systems.LigandSystem</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.ProteinLigandComplex" title="kinoml.core.systems.ProteinLigandComplex"><span class="pre">kinoml.core.systems.ProteinLigandComplex</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.BaseOneHotEncodingFeaturizer._featurize_one" title="Permalink to this definition">¶</a></dt>
<dd><p>One hot encode one system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system</strong> (<a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.LigandSystem" title="kinoml.core.systems.LigandSystem"><em>LigandSystem</em></a><em> or </em><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.ProteinLigandComplex" title="kinoml.core.systems.ProteinLigandComplex"><em>ProteinLigandComplex</em></a>) – The System to be featurized.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>array or None</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseOneHotEncodingFeaturizer._retrieve_sequence">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_retrieve_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.BaseOneHotEncodingFeaturizer._retrieve_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement in your component-specific subclass!</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.BaseOneHotEncodingFeaturizer.one_hot_encode">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">one_hot_encode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dictionary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#kinoml.features.core.BaseOneHotEncodingFeaturizer.one_hot_encode" title="Permalink to this definition">¶</a></dt>
<dd><p>One-hot encode a sequence of characters, given a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> (<em>Iterable</em>) – </p></li>
<li><p><strong>dictionary</strong> (<em>dict</em><em> or </em><em>sequuence-like</em>) – Mapping of each character to their position in the alphabet. If
a sequence-like is given, it will be enumerated into a dict.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>One-hot encoded matrix with shape <code class="docutils literal notranslate"><span class="pre">(len(dictionary),</span> <span class="pre">len(sequence))</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.PadFeaturizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">PadFeaturizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'last'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_with</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.PadFeaturizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.ParallelBaseFeaturizer" title="kinoml.features.core.ParallelBaseFeaturizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParallelBaseFeaturizer</span></code></a></p>
<p>Pads features of a given system to a desired size or length.</p>
<p>This class wraps <code class="docutils literal notranslate"><span class="pre">numpy.pad</span></code> with <code class="docutils literal notranslate"><span class="pre">mode=constant</span></code>, auto-calculating
the needed additions to match the requested shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>tuple of int</em><em>, or </em><em>"auto"</em>) – The desired size of the transformed features. If “auto”, shape
will be estimated from the Dataset passed at runtime so it matches
the largest observed.</p></li>
<li><p><strong>key</strong> (<em>hashable</em>) – element to retrieve from <code class="docutils literal notranslate"><span class="pre">System.featurizations</span></code></p></li>
<li><p><strong>pad_with</strong> (<em>int</em>) – value to fill the array-like features with</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.PadFeaturizer._get_array">
<span class="sig-name descname"><span class="pre">_get_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system_or_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">System</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">np.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#kinoml.features.core.PadFeaturizer._get_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.PadFeaturizer._pre_featurize">
<span class="sig-name descname"><span class="pre">_pre_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#kinoml.features.core.PadFeaturizer._pre_featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the largest shape in the input arrays and store in shape attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>systems</strong> (<em>list of System</em>) – </p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.PadFeaturizer._featurize_one">
<span class="sig-name descname"><span class="pre">_featurize_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#kinoml.features.core.PadFeaturizer._featurize_one" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>system</strong> (<a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><em>System</em></a><em> or </em><em>array-like</em>) – The System (or array) to be featurized.</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Must contain a key <code class="docutils literal notranslate"><span class="pre">shape</span></code> with the expected final shape
of the systems.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>array</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.HashFeaturizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">HashFeaturizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">getter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.HashFeaturizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.BaseFeaturizer" title="kinoml.features.core.BaseFeaturizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseFeaturizer</span></code></a></p>
<p>Hash an attribute of the protein, such as the name or id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>getter</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function or lambda that takes a System and returns
a string to be hashed. Default value will return
whatever <code class="docutils literal notranslate"><span class="pre">system.featurizations["last"]</span></code> contains,
as a string</p></li>
<li><p><strong>normalize</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Normalizes the hash to obtain a value in the unit interval</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.HashFeaturizer._getter">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.HashFeaturizer._getter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.HashFeaturizer._featurize_one">
<span class="sig-name descname"><span class="pre">_featurize_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#kinoml.features.core.HashFeaturizer._featurize_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Featurizes a component using the hash of the chosen attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system</strong> (<a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><em>System</em></a>) – The System to be featurized.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sha256’d attribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.NullFeaturizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">NullFeaturizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.NullFeaturizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.ParallelBaseFeaturizer" title="kinoml.features.core.ParallelBaseFeaturizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParallelBaseFeaturizer</span></code></a></p>
<p>Abstract Featurizer class with support for multiprocessing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>use_multiprocessing</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If multiprocessing to use.</p></li>
<li><p><strong>n_processes</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – How many processes to use in case of multiprocessing.
Defaults to number of available CPUs.</p></li>
<li><p><strong>chunksize</strong> (<em>int</em><em>, </em><em>optional=None</em>) – See <a class="reference external" href="https://stackoverflow.com/a/54032744/3407590">https://stackoverflow.com/a/54032744/3407590</a>.</p></li>
<li><p><strong>dask_client</strong> (<em>dask.distributed.Client</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – A dask client to manage multiprocessing. Will ignore <cite>use_multiprocessing</cite>
<cite>chunksize</cite> and <cite>n_processes</cite> attributes.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.NullFeaturizer._featurize">
<span class="sig-name descname"><span class="pre">_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">object</span></span></span><a class="headerlink" href="#kinoml.features.core.NullFeaturizer._featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Featurize all system objects in a parallel fashion as defined in <code class="docutils literal notranslate"><span class="pre">._featurize_one()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>systems</strong> (<em>list of System</em>) – This is the collection of System objects that will be transformed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>features</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of System or array-like</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.CallableFeaturizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">CallableFeaturizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">System</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">System</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">np.array</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.CallableFeaturizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.BaseFeaturizer" title="kinoml.features.core.BaseFeaturizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseFeaturizer</span></code></a></p>
<p>Apply an arbitrary callable to a System.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>callable</em><em> or </em><em>str</em><em> or </em><em>None</em>) – Must take a System and return a System or array. If
<code class="docutils literal notranslate"><span class="pre">str</span></code> it will be <code class="docutils literal notranslate"><span class="pre">eval</span></code>’d into a callable. If None,
the default callable will return <code class="docutils literal notranslate"><span class="pre">system.featurizations["last"]</span></code>
for each system.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.CallableFeaturizer._default_func">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_default_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.CallableFeaturizer._default_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.CallableFeaturizer._featurize_one">
<span class="sig-name descname"><span class="pre">_featurize_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">System</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">np.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#kinoml.features.core.CallableFeaturizer._featurize_one" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>system</strong> (<a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><em>System</em></a><em> or </em><em>array-like</em>) – The System (or array) to be featurized.</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Unused</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>array-like</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.ClearFeaturizations">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">ClearFeaturizations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('last',)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'keep'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.ClearFeaturizations" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.BaseFeaturizer" title="kinoml.features.core.BaseFeaturizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseFeaturizer</span></code></a></p>
<p>Remove keys from the <code class="docutils literal notranslate"><span class="pre">.featurizations</span></code> dictionary in each
<code class="docutils literal notranslate"><span class="pre">System</span></code> object. By default, it will remove all keys
that are not <code class="docutils literal notranslate"><span class="pre">last</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<em>tuple of str</em><em>, </em><em>optional=</em><em>(</em><em>"last"</em><em>,</em><em>)</em>) – Which keys to keep or remove, depending on <code class="docutils literal notranslate"><span class="pre">style</span></code>.</p></li>
<li><p><strong>style</strong> (<em>str</em><em>, </em><em>optional="keep"</em>) – Whether to <code class="docutils literal notranslate"><span class="pre">keep</span></code> or <code class="docutils literal notranslate"><span class="pre">remove</span></code> the entries passed as <code class="docutils literal notranslate"><span class="pre">keys</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.ClearFeaturizations._featurize_one">
<span class="sig-name descname"><span class="pre">_featurize_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a></span></span><a class="headerlink" href="#kinoml.features.core.ClearFeaturizations._featurize_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method to do the actual leg-work for <cite>self.featurize()</cite>.
It takes a single System object and returns either a new System object
or an array-like object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system</strong> (<a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><em>System</em></a>) – The System to be featurized.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System">System</a> or array-like</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.ClearFeaturizations._post_featurize">
<span class="sig-name descname"><span class="pre">_post_featurize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">System</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">np.array</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/systems/index.html#kinoml.core.systems.System" title="kinoml.core.systems.System"><span class="pre">kinoml.core.systems.System</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.ClearFeaturizations._post_featurize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bypass the automated population of the <code class="docutils literal notranslate"><span class="pre">.featurizations</span></code> dict
in each System</p>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kinoml.features.core.</span></span><span class="sig-name descname"><span class="pre">OEBaseModelingFeaturizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loop_db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#kinoml.features.core.ParallelBaseFeaturizer" title="kinoml.features.core.ParallelBaseFeaturizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParallelBaseFeaturizer</span></code></a></p>
<p>This abstract class defines several methods that use functionality from the OpenEye toolkit
for molecular modeling. Featurizers that subclass <cite>OEBaseModelingFeaturizer</cite> need to implement
at least the <cite>_featurize_one</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loop_db</strong> (<em>str</em>) – The path to the loop database used by OESpruce to model missing loops.</p></li>
<li><p><strong>cache_dir</strong> (<em>str</em><em>, </em><em>Path</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – Path to directory used for saving intermediate files. If None, default location
provided by <cite>appdirs.user_cache_dir()</cite> will be used.</p></li>
<li><p><strong>output_dir</strong> (<em>str</em><em>, </em><em>Path</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – Path to directory used for saving output files. If None, output structures will not be
saved.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer._read_protein_structure">
<span class="sig-name descname"><span class="pre">_read_protein_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protein</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../core/proteins/index.html#kinoml.core.proteins.Protein" title="kinoml.core.proteins.Protein"><span class="pre">kinoml.core.proteins.Protein</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../core/proteins/index.html#kinoml.core.proteins.KLIFSKinase" title="kinoml.core.proteins.KLIFSKinase"><span class="pre">kinoml.core.proteins.KLIFSKinase</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">oechem.OEGraphMol</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer._read_protein_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the protein structure of the given protein object as OpenEye molecule.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>protein</strong> (<a class="reference internal" href="../../core/proteins/index.html#kinoml.core.proteins.Protein" title="kinoml.core.proteins.Protein"><em>Protein</em></a><em> or </em><a class="reference internal" href="../../core/proteins/index.html#kinoml.core.proteins.KLIFSKinase" title="kinoml.core.proteins.KLIFSKinase"><em>KLIFSKinase</em></a>) – The protein object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The protein structure as OpenEye molecule or None.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>oechem.OEGraphMol or None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If wrong toolkit was used during initialization of the protein object.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer._get_design_unit">
<span class="sig-name descname"><span class="pre">_get_design_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">openeye.oechem.OEMolBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alternate_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_ligand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ligand_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_loops_and_caps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">openeye.oechem.OEDesignUnit</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer._get_design_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an OpenEye design unit based on the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>oechem.OEMolBase</em>) – An OpenEye molecule holding the protein structure to prepare.</p></li>
<li><p><strong>chain_id</strong> (<em>str</em><em> or </em><em>None</em>) – The chain ID of interest.</p></li>
<li><p><strong>alternate_location</strong> (<em>str</em><em> or </em><em>None</em>) – The alternate location of interest.</p></li>
<li><p><strong>has_ligand</strong> (<em>bool</em>) – If design unit generation should consider ligands. If True, design units will be only
generated for protein ligand complexes. If False, design units will not consider
co-crystallized ligands.</p></li>
<li><p><strong>ligand_name</strong> (<em>str</em><em> or </em><em>None</em>) – The ligand expo ID bound to the protein of interest. Design units will be filtered to
contain the respective ligand.</p></li>
<li><p><strong>model_loops_and_caps</strong> (<em>bool</em>) – If loops and caps should be modeled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>design_unit</strong> – The design unit or None if no design unit was found.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>oechem.OEDesignUnit or None</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer._get_components">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_get_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">design_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">openeye.oechem.OEDesignUnit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Tuple[oechem.OEGraphMol(),</span> <span class="pre">oechem.OEGraphMol(),</span> <span class="pre">oechem.OEGraphMol()]</span></span></span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer._get_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Get protein, solvent and ligand components from an OpenEye design unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>design_unit</strong> (<em>oechem.OEDesignUnit</em>) – The OpenEye design unit to extract components from.</p></li>
<li><p><strong>chain_id</strong> (<em>str</em><em> or </em><em>None</em>) – The chain ID of interest.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>components</strong> – OpenEye molecules holding protein, solvent and ligand.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of oechem.OEGraphMol, oechem.OEGraphMol and oechem.OEGraphMol</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer._process_protein">
<span class="sig-name descname"><span class="pre">_process_protein</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protein_structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">oechem.OEMolBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amino_acid_sequence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ligand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">oechem.OEMolBase</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">oechem.OEMolBase</span></span></span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer._process_protein" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a protein structure according to the given amino acid sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protein_structure</strong> (<em>oechem.OEMolBase</em>) – An OpenEye molecule holding the protein structure to process.</p></li>
<li><p><strong>amino_acid_sequence</strong> (<em>str</em>) – The amino acid sequence with associated metadata.</p></li>
<li><p><strong>first_id</strong> (<em>int</em><em>, </em><em>default=1</em>) – The ID of the first amino acid in the given sequence, e.g. if only a part of a
protein was expressed and used in experiment.</p></li>
<li><p><strong>ligand</strong> (<em>oechem.OEMolBase</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – An OpenEye molecule that should be checked for heavy atom clashes with built insertions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An OpenEye molecule holding the processed protein structure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>oechem.OEMolBase</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer._get_protein_residue_numbers">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_get_protein_residue_numbers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protein_structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">oechem.OEMolBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amino_acid_sequence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer._get_protein_residue_numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the residue numbers of a protein structure according to given amino acid sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protein_structure</strong> (<em>oechem.OEMolBase</em>) – The kinase domain structure.</p></li>
<li><p><strong>amino_acid_sequence</strong> (<a class="reference internal" href="../../core/sequences/index.html#kinoml.core.sequences.AminoAcidSequence" title="kinoml.core.sequences.AminoAcidSequence"><em>core.sequences.AminoAcidSequence</em></a>) – The template amino acid sequence.</p></li>
<li><p><strong>first_id</strong> (<em>int</em><em>, </em><em>default=1</em>) – The ID of the first amino acid in the given sequence, e.g. if only a part of a
protein was expressed and used in experiment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>residue_number</strong> – A list of residue numbers according to the given amino acid sequence in the same order
as the residues in the given protein structure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of int</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer._assemble_components">
<span class="sig-name descname"><span class="pre">_assemble_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protein</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">openeye.oechem.OEMolBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solvent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">openeye.oechem.OEMolBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ligand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">openeye.oechem.OEMolBase</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">openeye.oechem.OEMolBase</span></span></span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer._assemble_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Assemble components of a solvated protein-ligand complex into a single OpenEye molecule.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protein</strong> (<em>oechem.OEMolBase</em>) – An OpenEye molecule holding the protein of interest.</p></li>
<li><p><strong>solvent</strong> (<em>oechem.OEMolBase</em>) – An OpenEye molecule holding the solvent of interest.</p></li>
<li><p><strong>ligand</strong> (<em>oechem.OEMolBase</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – An OpenEye molecule holding the ligand of interest if given.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>assembled_components</strong> – An OpenEye molecule holding protein, solvent and ligand if given.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>oechem.OEMolBase</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer._remove_clashing_water">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_remove_clashing_water</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solvent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">openeye.oechem.OEMolBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ligand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">openeye.oechem.OEMolBase</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protein</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">openeye.oechem.OEMolBase</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">openeye.oechem.OEGraphMol</span></span></span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer._remove_clashing_water" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove water molecules clashing with a ligand or newly modeled protein residues.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>solvent</strong> (<em>oechem.OEGraphMol</em>) – An OpenEye molecule holding the water molecules.</p></li>
<li><p><strong>ligand</strong> (<em>oechem.OEGraphMol</em><em> or </em><em>None</em>) – An OpenEye molecule holding the ligand or None.</p></li>
<li><p><strong>protein</strong> (<em>oechem.OEGraphMol</em>) – An OpenEye molecule holding the protein.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An OpenEye molecule holding water molecules not clashing with the ligand or newly
modeled protein residues.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>oechem.OEGraphMol</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer._update_pdb_header">
<span class="sig-name descname"><span class="pre">_update_pdb_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">openeye.oechem.OEMolBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protein_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ligand_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_pdb_header_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">openeye.oechem.OEMolBase</span></span></span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer._update_pdb_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores information about Featurizer, protein and ligand in the PDB header COMPND section in the
given OpenEye molecule.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>oechem.OEMolBase</em>) – An OpenEye molecule.</p></li>
<li><p><strong>protein_name</strong> (<em>str</em>) – The name of the protein.</p></li>
<li><p><strong>ligand_name</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – The name of the ligand if present.</p></li>
<li><p><strong>other_pdb_header_info</strong> (<em>None</em><em> or </em><em>iterable of tuple of str</em>) – Tuples with information that should be saved in the PDB header. Each tuple consists of two strings,
i.e., the PDB header section (e.g. COMPND) and the respective information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The OpenEye molecule containing the updated PDB header.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>oechem.OEMolBase</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="kinoml.features.core.OEBaseModelingFeaturizer._write_results">
<span class="sig-name descname"><span class="pre">_write_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">openeye.oechem.OEMolBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protein_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ligand_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">pathlib.Path</span></span></span><a class="headerlink" href="#kinoml.features.core.OEBaseModelingFeaturizer._write_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the results from the Featurizer and retrieve the paths to protein or complex if a
ligand is present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>oechem.OEMolBase</em>) – The OpenEye molecule holding the featurized system.</p></li>
<li><p><strong>protein_name</strong> (<em>str</em>) – The name of the protein.</p></li>
<li><p><strong>ligand_name</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – The name of the ligand if present.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Path to prepared protein or complex if ligand is present.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="../complexes/index.html" title="kinoml.features.complexes"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> <code class="xref py py-mod docutils literal notranslate"><span class="pre">kinoml.features.complexes</span></code> </span>
              </div>
            </a>
          
          
            <a href="../ligand/index.html" title="kinoml.features.ligand"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> <code class="xref py py-mod docutils literal notranslate"><span class="pre">kinoml.features.ligand</span></code> </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2021, OpenKinome.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../../../../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>